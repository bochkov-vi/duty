<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:wicket="http://wicket.apache.org">
<wicket:head>
    <script>
        function cellHover(e) {
            var clip = $(window.clip)
            if (clip != null && clip.length > 0 && clip.attr("person")) {
                if (clip.attr("duty-type") != $(this).find('[duty-type]').attr("duty-type")) {
                    $(this).find('[duty-type]').remove();
                    $(this).append(clip.clone());
                }
                $(this).find("[id-duty-type]").attr("value", clip.attr("duty-type"))
                console.log("duty-type = " + $(this).find('[duty-type]').html());
            }
        }


        function cellDown(e) {
            var duty_type = $(this).find('[duty-type]');
            window.clip = duty_type.clone();
            console.log("mouse down duty_type=" + duty_type)
        }

        function cellUp(e) {
            window.clip = null;
        }


        function initCellEditor() {
            window.id_duty_type = null;
            $('.duty-cell-editor').mouseover(cellHover)
            $('.duty-cell-editor').mousedown(cellDown)
            $(document).mouseup(cellUp)
        }

    </script>
</wicket:head>
<body>
<wicket:panel>
    <div class="m-0 duty-cell-editor"
         style="min-width: 1.2rem;min-height: 1.2rem;background: inherit;text-align: center;vertical-align: center;user-select: none"
         data-toggle="dropdown"
         unselectable="on">

        <div wicket:id="duty-type-label" duty-type></div>
        <input type="hidden" wicket:id="dutyType" id-duty-type="">
        <input type="hidden" wicket:id="person">
        <input type="hidden" wicket:id="day">

        <div class="dropdown-menu">
            <wicket:container wicket:id="dropdown-item">
                <a wicket:id="link" class="dropdown-item" href="#">
                    <span wicket:id="icon"></span>
                    <span wicket:id="label"></span>
                </a>
            </wicket:container>
        </div>
    </div>
</wicket:panel>
</body>
</html>